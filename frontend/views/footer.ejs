<!DOCTYPE html>
<html>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <body>
      <footer class="bg-light text-center text-lg-start" style="padding-top: 2pc;">
        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
          Â© 2022 Copyright:
          <a class="text-dark" href="#">Thomas Hazekamp</a>
        </div>
        <!-- Copyright -->
      </footer>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      <script>
        window.userLoggedIn = false;
      
        function isLoggedIn(){
          let accessToken = localStorage.getItem("access");
          if(accessToken != null){
            // if there is an access token in localstorage
            window.userLoggedIn = true;
          }
          if(window.userLoggedIn){
                let loginLink = document.getElementById("auth-link");
                loginLink.innerHTML = "Logout";
                loginLink.href = "/logout";

                let basketLink = document.getElementById("basket-show");
                basketLink.innerHTML = "Shopping basket";
                basketLink.href = "/shoppingbasket";

                let orderHistoryLink = document.getElementById("orderhistory-show");
                orderHistoryLink.innerHTML = "Order history";
                orderHistoryLink.href = "/orderhistory";
            }
          if(accessToken == ""){
            // Changing the Logout page link back to log in once the user has logged out
            let loginLink = document.getElementById("auth-link");
            loginLink.innerHTML = "Login";
            loginLink.href = "/login";
            
            // Remove the shopping basket page link from showing
            let basketLink = document.getElementById("basket-show");
            basketLink.innerHTML = "";
            basketLink.href = "#";

            // Remove the order history page link from showing
            let orderHistoryLink = document.getElementById("orderhistory-show");
            orderHistoryLink.innerHTML = "";
            orderHistoryLink.href = "#";
          }
          
        }
      
        isLoggedIn(); // when the page loads call isLoggedIn
      
      </script>
    </body>
</html>
